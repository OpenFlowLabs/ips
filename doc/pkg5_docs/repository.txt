pkg
REPOSITORIES

1.  Summary

2.  Discussion

2.1.  Repository configuration

2.2.1.  Configuration inheritance

    The pkg.depotd(5) server may need to access repository configuration data when
    smf(5) is unavailable.  As such, a repository must have a cached
    configuration state.

    Roughly, these aspects are sufficient to constrain our configuration
    behavior:

      request properties from svc://application/pkg
      if unavailable, examine configuration cache
      if undefined or unavailable, use hard-coded defaults

2.2.2.  Configuration components

    Repository attributes.  The repository has a collection of simple
    attributes for providing various bits of metadata and configuration
    information.  Note that changing these values requires a restart
    of any pkg.depotd processes referencing the repository so that
    changes will be reflected in operations and output.

    repository/  Property group of type "application"
      /name             A short, descriptive name for the repository.

                        Examples:  "opensolaris.org base repository"
                                   "opensolaris.org contrib repository"

      /description      A descriptive paragraph for the repository.

      /maintainer       A human readable string describing the entity
                        maintaining the repository.  For an individual,
                        this string is expected to be their name, or
                        name and email.

                        Examples:  "Project Indiana"
                                   "Project Indiana <indiana-discuss@
                                   opensolaris.org>"

      /maintainer_url   A URL associated with the entity maintaining the
                        repository.

                        Example:
                        "http://www.opensolaris.org/os/project/indiana/"

      /detailed_url     One or more URLs to pages or sites with further
                        information about the repository.

                        Example:  "http://www.opensolaris.org/"

    feed/  Property group of type "application"
      /id               A Universally Unique Identifier (UUID) used to
                        permanently, uniquely identify the feed.
                        Changing this value can have unexpected effects
                        on feed consumers.  In addition, when serving
                        multiple copies of a repository, each copy's
                        cfg_cache must have the same value for this
                        attribute.

      /name             A short, descriptive name for RSS/Atom feeds
                        generated by the depot serving the repository.

                        Example:  "opensolaris.org packaging feed"

      /description      A descriptive paragraph for the feed.

      /authority        A fully-qualified domain name or email address
                        that will be used to generate a unique
                        identifier for each entry in the feed.  Changing
                        this value can have unexpected effects on feed
                        consumers.

                        Examples: "opensolaris.org"
                                  "indiana-discuss@opensolaris.org"

      /icon             A filename of a small image that will be used to
                        visually represent the feed (e.g. web
                        links to the repository, or the icon shown in a
                        user agent's address bar).  This file must be
                        located in the depot server's inst_root
                        directory.

      /logo             A filename of a large image that will be used by
                        user agents to visually brand or identify the
                        feed.  This file must be located in the depot's
                        inst_root directory.

      /window           A numeric value representing the number of
                        hours, before the feed for the repository was
                        last generated, to include when creating the feed
                        for the repository updatelog.  The default value
                        is "24".

                        Example:  "48"

3.  References

